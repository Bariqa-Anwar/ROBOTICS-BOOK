---
title : "06. Gazebo Ignition : A Deep Dive"
sidebar_label : "06. Gazebo Deep Dive"
---



## Chapter 06 : Gazebo Ignition : Physics, Plugins, & Sensor Simulation

### Introduction : From Blueprint to Virtual Reality

In the previous chapter, we mastered the art of creating a robot's digital blueprint using URDF and Xacro. Now, it's time to bring that blueprint to life. Welcome to **Gazebo**, the powerhouse simulator of the ROS ecosystem. Gazebo (formerly known as Gazebo Ignition) is a high-fidelity physics simulator that allows you to test your robot's algorithms in a realistic, dynamic 3D environment before deploying them on physical hardware.

Gazebo is more than just a 3D renderer; it's a complete simulation environment. It includes :
*   **A robust physics engine :** Simulates forces, torques, gravity, and contact dynamics.
*   **Advanced sensor models :** Generates realistic data from sensors like LiDARs, cameras, and IMUs, complete with noise and physical limitations.
*   **A flexible plugin system :** Allows you to extend Gazebo's functionality and interface with external systems like ROS 2.

This chapter is a deep dive into Gazebo. We will construct a complete, launchable simulation environment from scratch, including a custom world and a sensor-equipped humanoid robot.

<Mermaid chart={`
graph TD;
    A["Robot Model (URDF/SDF)"] --> C{Gazebo};
    B["World Model (SDF)"] --> C;
    C -- Physics --> D["Dynamic Simulation"];
    C -- Sensor Plugins --> E["Simulated Sensor Data"];
    D & E -- ros_gz_bridge --> F["ROS 2 Ecosystem"];
    F -- Control Commands --> C;

    style C fill :#00ff9d,stroke :#333,stroke-width :4px
`} />

### SDF : The Language of Gazebo

While Gazebo can parse URDF files, its native format is the **Simulation Description Format (SDF)**. SDF is an XML format specifically designed for describing everything in a simulation : robots, lights, physics, environments, and more.

**Why SDF over URDF?**
*   **World Description :** URDF can only describe a single robot. SDF can describe the entire world, including multiple robots, static objects, lighting, and physics properties.
*   **Closed Kinematic Chains :** URDF requires a tree structure, which struggles to represent closed loops (like a four-bar linkage). SDF can model any kinematic graph.
*   **Direct Access to Gazebo Features :** SDF provides direct tags for configuring Gazebo-specific features, such as plugins, sensor noise models, and surface properties (e.g., friction).

For this chapter, we will build our world and robot directly in SDF to leverage its full power.

<Mermaid chart={`
graph TD;
    subgraph "URDF
        direction LR"
        A["Single Robot Tree"] B["Kinematics & Visuals"]
    end
    subgraph "SDF
        direction LR"
        C["Entire World Graph"] D["Kinematics, Visuals, Physics, Lights, Plugins"]
    end
    style D fill :#00ff9d
`} />

### Building a World : The Apartment

A Gazebo world is an SDF file that contains everything in the environment. We'll create a simple apartment world.

**`apartment.sdf` :**
```xml
<?xml version="1.0"?>
<sdf version="1.7">
  <world name="apartment">
        <physics type="bullet">
      <max_step_size>0.001</max_step_size>
      <real_time_factor>1.0</real_time_factor>
    </physics>

        <scene>
      <ambient>0.8 0.8 0.8 1.0</ambient>
      <background>0.5 0.5 0.5 1.0</background>
      <sky/>
    </scene>
    <light type="directional" name="sun">
      <cast_shadows>true</cast_shadows>
      <pose>0 0 10 0 0 0</pose>
      <diffuse>0.8 0.8 0.8 1</diffuse>
      <specular>0.2 0.2 0.2 1</specular>
      <attenuation><range>1000</range></attenuation>
      <direction>-0.5 0.1 -0.9</direction>
    </light>

        <model name="ground_plane">
      <static>true</static>
      <link name="link">
        <collision name="collision">
          <geometry><plane><normal>0 0 1</normal><size>100 100</size></plane></geometry>
        </collision>
        <visual name="visual">
          <geometry><plane><normal>0 0 1</normal><size>100 100</size></plane></geometry>
          <material><ambient>0.3 0.3 0.3 1</ambient><diffuse>0.7 0.7 0.7 1</diffuse><specular>0.01 0.01 0.01 1</specular></material>
        </visual>
      </link>
    </model>

        <model name="walls">
      <static>true</static>
      <pose>0 0 1.25 0 0 0</pose>
      <link name="wall_north"><pose>0 5 0 0 0 0</pose><visual name="v"><geometry><box><size>10 0.1 2.5</size></box></geometry></visual><collision name="c"><geometry><box><size>10 0.1 2.5</size></box></geometry></collision></link>
      <link name="wall_south"><pose>0 -5 0 0 0 0</pose><visual name="v"><geometry><box><size>10 0.1 2.5</size></box></geometry></visual><collision name="c"><geometry><box><size>10 0.1 2.5</size></box></geometry></collision></link>
      <link name="wall_east"><pose>5 0 0 0 0 0</pose><visual name="v"><geometry><box><size>0.1 10 2.5</size></box></geometry></visual><collision name="c"><geometry><box><size>0.1 10 2.5</size></box></geometry></collision></link>
      <link name="wall_west"><pose>-5 0 0 0 0 0</pose><visual name="v"><geometry><box><size>0.1 10 2.5</size></box></geometry></visual><collision name="c"><geometry><box><size>0.1 10 2.5</size></box></geometry></collision></link>
    </model>
  </world>
</sdf>